<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="content">
		<h:form id="formDialog" enctype="multipart/form-data">
			<p:messages id="msg" />
			<p:growl id="men" />
			<p:panel id="panelPregunta" header="Pregunta">
				<h:panelGrid columns="3">
					<h:outputText  value="Crear nueva pregunta:" />	
					<h:outputText value=""/>
					<h:link outcome="pregunta.xhtml" value="Crear una nueva pregunta" styleClass="btn" />
					<h:outputText  value="Importar preguntas:"/>	
					<p:fileUpload label="Cargar archivo" value="#{preguntaView.chooseImportFile}" mode="simple" skinSimple="true" />
					<p:commandButton value="Importar preguntas(xls o xlsx)" action="#{preguntaView.importFilePregunta}" update="msg,panelTable,men" ajax="false"/>
				</h:panelGrid>
			</p:panel>
			<p:panel id="panelTable">
				<p:dataTable id="dataPregunta" value="#{preguntaView.data}"
					var="pregunta" reflow="true" resizableColumns="true"
					scrollable="true" scrollHeight="300" widgetVar="tipTable"
					paginator="true"
                    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="10,25,50">

					<p:column headerText="contenido" filterBy="#{pregunta.descripcionPregunta}"
						filterMatchMode="contains" width="65%">
						<p:outputLabel value="#{pregunta.descripcionPregunta}" />
					</p:column>					
					<p:column headerText="Modulo" filterBy="#{preguntaView.getModulo(pregunta.idModulo_Modulo)}"
						filterMatchMode="contains" width="20%">
						<p:outputLabel value="#{preguntaView.getModulo(pregunta.idModulo_Modulo)}" />
					</p:column>
					<p:column headerText="Activo" filterBy="#{pregunta.activo.equals('S')}" filterMatchMode="equals"
							  width="10%" styleClass="text-center">
						<f:facet name="filter">
							<p:selectOneButton onchange="PF('tipTable').filter()">
								<f:converter converterId="javax.faces.Boolean" />
								<f:selectItem itemLabel="All" itemValue="" />
								<f:selectItem itemLabel="Activo" itemValue="true" />
								<f:selectItem itemLabel="Inactivo" itemValue="false" />
							</p:selectOneButton>
						</f:facet>
						<h:outputText
							value="#{pregunta.activo.equals('S') ? 'SÃ­': 'No'}" />
					</p:column>
					<p:column headerText="Opcion" width="4%">
						<h:link outcome="pregunta.xhtml" value="Editar" styleClass="btn btn-primary">
							<f:param name="id" value="#{pregunta.idPregunta}"/>
						</h:link>
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>