<div id="usuario" class="pagina-principal page-layout simple right-sidebar" fxLayout="row">
    <div class="center" fusePerfectScrollbar>
        <div class="tituloPrincipal" fxFlex="100">
            Registrar una pregunta
        </div>
        <div class="content">
            <div class="widget-group p-12" fxLayout="row wrap" fxFlex="100" *fuseIfOnDom>
                <div fxLayout="row wrap" fxFlex="100">
                    <fuse-widget class="widget" fxLayout="row wrap" fxFlex="100">
                        <div class="fuse-widget-front" fxFlex="100">
                            <div class="px-16 py-12 titlecard" fxLayout="row" fxLayoutAlign="space-between center">
                                <div class="h3">Datos asociados a la clasificación de la pregunta</div>
                            </div>
                            <div class="p-16 pb-0 m-0" fusePerfectScrollbar fxLayout="row wrap" fxFlex="100">
                                <p class="pt-0 pb-16">
                                    Registre aquí una nueva pregunta. Asociela a un módulo y detalle la
                                    retroalimentación de la
                                    respuesta y todas las opciones de selección que tiene el estudiante
                                </p>
                                <form [formGroup]="form" fxLayout="row wrap" fxFlex="100">
                                    <!-- FACULTAD -->
                                    <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                                        <mat-label>Facultad</mat-label>
                                        <input matInput formControlName="facultad">
                                        <mat-icon matSuffix class="disabled-text">domain</mat-icon>
                                    </mat-form-field>

                                    <!-- FACULTAD -->

                                    <!-- PROGRAMA -->

                                    <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                                        <mat-label>Programa</mat-label>
                                        <input matInput formControlName="programa">
                                        <mat-icon matSuffix class="disabled-text">subject</mat-icon>
                                    </mat-form-field>

                                    <!-- PROGRAMA -->

                                    <!-- TIPO MODULO -->

                                    <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                                        <mat-label>Tipo Módulo</mat-label>
                                        <mat-select formControlName="tipoModulo" required
                                            (selectionChange)="getModulos(true)">

                                            <mat-option *ngFor="let tipoModulo of tiposModulo"
                                                [value]="tipoModulo.timoId">
                                                {{tipoModulo.nombre}}
                                            </mat-option>

                                        </mat-select>
                                        <mat-icon matSuffix class="secondary-text">group_work</mat-icon>
                                        <mat-error>Tipo módulo es requerido!</mat-error>
                                    </mat-form-field>

                                    <!-- TIPO MODULO -->

                                    <!-- MODULO -->
                                    <mat-form-field appearance="outline" fxFlex="50" class="px-8">
                                        <mat-label>Módulo</mat-label>
                                        <mat-select formControlName="modulo" required>

                                            <mat-option *ngFor="let modulo of modulos" [value]="modulo.moduId">
                                                {{modulo.nombre}}
                                            </mat-option>

                                        </mat-select>
                                        <mat-icon matSuffix class="secondary-text">view_module</mat-icon>
                                        <mat-error>El módulo es requerido!</mat-error>
                                    </mat-form-field>
                                    <!-- MODULO -->
                                </form>
                            </div>
                        </div>
                    </fuse-widget>

                    <fuse-widget class="widget" fxLayout="row wrap" fxFlex="100">
                        <div class="fuse-widget-front" fxFlex="100">
                            <div class="px-16 py-12 titlecard" fxLayout="row" fxLayoutAlign="space-between center">
                                <div class="h3">Registro de datos de la pregunta y sus repuestas (Válidas y no válidas)
                                </div>
                            </div>
                            <div class="p-16 pb-0 m-0" fusePerfectScrollbar fxLayout="row wrap" fxFlex="100">
                                <p class="pt-0 pb-16">
                                    Registre aquí el contenido de la pregunta. Detalle a profundidad la misma y anexe
                                    enlaces,
                                    documentos fotos y otro tipo de documentación que considere relevante para su
                                    entendimiento.
                                </p>

                                <!-- PASOS PARA LA CREACION DE LA PREGUNTA -->
                                <mat-horizontal-stepper class="mat-elevation-z4" class="pb-16">

                                    <!--Paso 1. Encabezado de la pregunta-->
                                    <mat-step [stepControl]="horizontalStepperStep1">

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep1">

                                            <ng-template matStepLabel>Encabezado de la pregunta</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">
                                                <ckeditor id="editorPregunta" [editor]="EditorPregunta"
                                                    [config]="editorPreguntaConfig" formControlName="editorPregunta">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep1.controls.editorPregunta.errors?.required">
                                                    La pregunta es
                                                    obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">

                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Respuesta # 1)
                                                </button>
                                            </div>
                                        </form>

                                    </mat-step>
                                    <!--Paso 1. Encabezado de la pregunta-->

                                    <!--Paso 2. Respuesta 1-->
                                    <mat-step [stepControl]="horizontalStepperStep2">

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep2">

                                            <ng-template matStepLabel>Respuesta # 1</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">
                                                <ckeditor id="editorRespuesta1" [editor]="EditorRespuesta1"
                                                    [config]="editorPreguntaConfig" formControlName="editorRespuesta1">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep2.controls.editorRespuesta1.errors?.required">
                                                    La
                                                    respuesta es
                                                    obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnSecundario mx-8" matStepperPrevious>
                                                    Anterior (Encabezado de la pregunta)
                                                </button>
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Respuesta # 2)
                                                </button>
                                            </div>

                                        </form>

                                    </mat-step>
                                    <!--Paso 2. Respuesta 1-->

                                    <!--Paso 3. Respuesta 2-->
                                    <mat-step [stepControl]="horizontalStepperStep3">

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep3">

                                            <ng-template matStepLabel>Respuesta # 2</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">
                                                <ckeditor id="editorRespuesta2" [editor]="EditorRespuesta2"
                                                    [config]="editorPreguntaConfig" formControlName="editorRespuesta2">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep3.controls.editorRespuesta2.errors?.required">
                                                    La
                                                    respuesta es
                                                    obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnSecundario mx-8" matStepperPrevious>
                                                    Anterior (Respuesta # 1)
                                                </button>
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Respuesta # 3)
                                                </button>
                                            </div>

                                        </form>

                                    </mat-step>
                                    <!--Paso 3. Respuesta 2-->

                                    <!--Paso 4. Respuesta 3-->
                                    <mat-step>

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep4">

                                            <ng-template matStepLabel>Respuesta # 3</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">
                                                <ckeditor id="editorRespuesta3" [editor]="EditorRespuesta3"
                                                    [config]="editorPreguntaConfig" formControlName="editorRespuesta3">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep4.controls.editorRespuesta3.errors?.required">
                                                    La
                                                    respuesta es
                                                    obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnSecundario mx-8" matStepperPrevious>
                                                    Anterior (Respuesta # 2)
                                                </button>
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Respuesta # 4)
                                                </button>
                                            </div>

                                        </form>

                                    </mat-step>
                                    <!--Paso 4. Respuesta 3-->

                                    <!--Paso 5. Respuesta 4-->
                                    <mat-step>

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep5">

                                            <ng-template matStepLabel>Respuesta # 4</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">
                                                <ckeditor id="editorRespuesta4" [editor]="EditorRespuesta4"
                                                    [config]="editorPreguntaConfig" formControlName="editorRespuesta4">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep5.controls.editorRespuesta4.errors?.required">
                                                    La
                                                    respuesta es
                                                    obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnSecundario mx-8" matStepperPrevious>
                                                    Anterior (Respuesta # 3)
                                                </button>
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Retroalimentacion)
                                                </button>
                                            </div>

                                        </form>

                                    </mat-step>
                                    <!--Paso 5. Respuesta 4-->

                                    <!--Paso 6. Retroalimentación-->
                                    <mat-step>

                                        <form fxLayout="column" [formGroup]="horizontalStepperStep6">

                                            <ng-template matStepLabel>Retroalimentación</ng-template>

                                            <div fxFlex="1 0 auto" fxLayout="column">

                                                <mat-form-field appearance="outline" fxFlex="100">
                                                    <mat-label>Respuesta correcta</mat-label>
                                                    <mat-select formControlName="respuestaCorrecta" required>

                                                        <mat-option value="0">Respuesta # 1</mat-option>
                                                        <mat-option value="1">Respuesta # 2</mat-option>
                                                        <mat-option value="2">Respuesta # 3</mat-option>
                                                        <mat-option value="3">Respuesta # 4</mat-option>

                                                    </mat-select>
                                                    <mat-icon matSuffix class="secondary-text">group_work</mat-icon>
                                                    <mat-error>Respuecta correcta es requerida!</mat-error>
                                                </mat-form-field>

                                                <ckeditor id="retroalimentacion" [editor]="EditorRetroalimentacion"
                                                    [config]="editorRetroalimentacionConfig"
                                                    formControlName="editorRetroalimentacion">
                                                </ckeditor>
                                                <mat-error
                                                    *ngIf="horizontalStepperStep6.controls.editorRetroalimentacion.errors?.required">
                                                    La
                                                    retroalimentación es obligatoria</mat-error>
                                            </div>

                                            <br />

                                            <div fxLayout="row" fxLayoutAlign="center center">
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnSecundario mx-8" matStepperPrevious>
                                                    Anterior (Respuesta # 4)
                                                </button>
                                                <button fxFlex="33" mat-stroked-button type="button"
                                                    class="btnPrimario mx-8" matStepperNext>
                                                    Siguiente (Finalizar)
                                                </button>
                                            </div>

                                        </form>

                                    </mat-step>
                                    <!--Paso 6. Retroalimentación-->

                                    <!--Paso 5. Respuesta 4-->
                                    <mat-step>

                                        <ng-template matStepLabel>Finalizar</ng-template>

                                        <div class="h2 m-16" fxLayout="row" fxLayoutAlign="center center">
                                            Todo el formulario ha sido diligenciado. Presione "Guardar" para finalizar
                                            el registro
                                            de la pregunta
                                        </div>

                                        <div fxLayout="row" fxLayoutAlign="center center">
                                            <button fxFlex="33" mat-stroked-button type="button"
                                                class="btnSecundario mx-8" matStepperPrevious>
                                                Anterior (Retroalimentacion)
                                            </button>
                                            <button fxFlex="33" mat-stroked-button type="button"
                                                class="btnPrimario mx-8" (click)="guardarPregunta()">
                                                Guardar
                                            </button>
                                        </div>

                                    </mat-step>
                                    <!--Paso 5. Respuesta 4-->

                                </mat-horizontal-stepper>
                                <!-- PASOS PARA LA CREACION DE LA PREGUNTA -->
                            </div>
                        </div>
                    </fuse-widget>
                </div>
            </div>
        </div>
    </div>
</div>